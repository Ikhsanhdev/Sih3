var dataTableArticle,dataArticle={init:function(){dataTableArticle=$("#table-article").DataTable({processing:!0,serverSide:!0,order:[[1,"asc"]],ajax:{url:"/Admin/GetArticleData",type:"POST",dataType:"JSON"},columns:[{data:null,render:function(t,e,a,n){return n.row+n.settings._iDisplayStart+1},className:"text-center"},{data:"title",render:function(t,e,a){return t?t.split(" ").slice(0,4).join(" ")+(4<t.split(" ").length?"...":""):""}},{data:"author"},{data:"category"},{data:"last_update",render:function(t,e,a){var n;return t?(n=(t=new Date(t)).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",timeZone:"Asia/Jakarta"}),t=t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}),"".concat(n," ").concat(t)):"-"}},{data:"status"},{className:"text-nowrap text-center no-export",orderable:!1,render:function(t,e,a){return'<button onclick="editData(this,event);" data-id="'.concat(a.id,'" type="button" class="btn btn-sm btn-success"><i class="bx bx-pencil"></i></button>  \n                            <button onclick="delData(this, event);" data-id="').concat(a.id,'" type="button" class="btn btn-sm btn-danger"><i class="bx bx-trash"></i></button>')}}]})}};function deleteData(t){return axios.delete(t)}function showMessage(t,e,a){Swal.fire({icon:t,title:e,text:a})}function beforeLoadingButton(t){$(t).prop("disabled",!0),$(t).html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...')}$(document).ready(function(){dataArticle.init()}),window.editData=function(t,e){e.preventDefault(),$(t).html(),beforeLoadingButton($(t)),e=$(t).data("id"),console.log(e),window.location.href="/Admin/EditArticle/"+e},window.delData=function(t,e){e&&e.preventDefault();var a=$(t).data("id");Swal.fire({title:"Hapus Data",text:"Anda yakin untuk menghapus Artikel tersebut ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",showLoaderOnConfirm:!0,preConfirm:function(){return deleteData("/Admin/DeleteArticle/"+a).then(function(t){if(200!==t.status)throw new Error(t.statusText);return t}).catch(function(t){Swal.showValidationMessage("Request failed: ".concat(t))})},allowOutsideClick:function(){return!Swal.isLoading()}}).then(function(t){console.log(t),t.isConfirmed&&(200==t.value.data.code?(showMessage("success","Sukses!",t.value.data.message),dataTableArticle.ajax.reload()):showMessage("error","Failed",t.value.data.message))})};