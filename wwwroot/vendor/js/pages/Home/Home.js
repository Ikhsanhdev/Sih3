/*! For license information please see Home.js.LICENSE.txt */
!function(t,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var n=a();for(var e in n)("object"==typeof exports?exports:t)[e]=n[e]}}(self,(()=>(()=>{var t;function a(){var t,e,l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",i=l.toStringTag||"@@toStringTag";function r(a,l,s,i){var r=l&&l.prototype instanceof c?l:c,d=Object.create(r.prototype);return n(d,"_invoke",function(a,n,l){var s,i,r,c=0,d=l||[],m=!1,p={p:0,n:0,v:t,a:u,f:u.bind(t,4),d:function(a,n){return s=a,i=0,r=t,p.n=n,o}};function u(a,n){for(i=a,r=n,e=0;!m&&c&&!l&&e<d.length;e++){var l,s=d[e],u=p.p,v=s[2];a>3?(l=v===n)&&(r=s[(i=s[4])?5:(i=3,3)],s[4]=s[5]=t):s[0]<=u&&((l=a<2&&u<s[1])?(i=0,p.v=n,p.n=s[1]):u<v&&(l=a<3||s[0]>n||n>v)&&(s[4]=a,s[5]=n,p.n=v,i=0))}if(l||a>1)return o;throw m=!0,n}return function(l,d,v){if(c>1)throw TypeError("Generator is already running");for(m&&1===d&&u(d,v),i=d,r=v;(e=i<2?t:r)||!m;){s||(i?i<3?(i>1&&(p.n=-1),u(i,r)):p.n=r:p.v=r);try{if(c=2,s){if(i||(l="next"),e=s[l]){if(!(e=e.call(s,r)))throw TypeError("iterator result is not an object");if(!e.done)return e;r=e.value,i<2&&(i=0)}else 1===i&&(e=s.return)&&e.call(s),i<2&&(r=TypeError("The iterator does not provide a '"+l+"' method"),i=1);s=t}else if((e=(m=p.n<0)?r:a.call(n,p))!==o)break}catch(a){s=t,i=1,r=a}finally{c=1}}return{value:e,done:m}}}(a,s,i),!0),d}var o={};function c(){}function d(){}function m(){}e=Object.getPrototypeOf;var p=[][s]?e(e([][s]())):(n(e={},s,(function(){return this})),e),u=m.prototype=c.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,n(t,i,"GeneratorFunction")),t.prototype=Object.create(u),t}return d.prototype=m,n(u,"constructor",m),n(m,"constructor",d),d.displayName="GeneratorFunction",n(m,i,"GeneratorFunction"),n(u),n(u,i,"Generator"),n(u,s,(function(){return this})),n(u,"toString",(function(){return"[object Generator]"})),(a=function(){return{w:r,m:v}})()}function n(t,a,e,l){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}n=function(t,a,e,l){if(a)s?s(t,a,{value:e,enumerable:!l,configurable:!l,writable:!l}):t[a]=e;else{var i=function(a,e){n(t,a,(function(t){return this._invoke(a,e,t)}))};i("next",0),i("throw",1),i("return",2)}},n(t,a,e,l)}function e(t,a,n,e,l,s,i){try{var r=t[s](i),o=r.value}catch(t){return void n(t)}r.done?a(o):Promise.resolve(o).then(e,l)}function l(){var t;return t=a().m((function t(){var n,e,l,s,i;return a().w((function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch("/Home/GetSensorOfflineCount");case 1:return e=t.v,t.n=2,e.json();case 2:l=t.v,s=null!==(n=null==l?void 0:l.jumlah)&&void 0!==n?n:0,document.getElementById("sensorCount").textContent=s,t.n=4;break;case 3:t.p=3,i=t.v,console.error("Gagal mengambil data sensor offline:",i);case 4:return t.a(2)}}),t,null,[[0,3]])})),l=function(){var a=this,n=arguments;return new Promise((function(l,s){var i=t.apply(a,n);function r(t){e(i,l,s,r,o,"next",t)}function o(t){e(i,l,s,r,o,"throw",t)}r(void 0)}))},l.apply(this,arguments)}function s(t){return fetch(t).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()}))}function i(){var t=document.querySelectorAll(".footer"),a=document.querySelectorAll(".tab-pane");t.forEach((function(t,n){var e=a[n];if(t&&e){var l=t.offsetHeight;e.style.paddingBottom="".concat(l,"px")}}))}function r(t){var a,n=moment();n.locale("id"),n.tz("Asia/Jakarta");var e=n.hours();a=e>=5&&e<10?"pagi":e>=10&&e<17?"siang":e>=17&&e<19?"sore":"malam";var l="berawan.png";switch(t){case"Berawan":l="berawan-".concat(a,".png");break;case"Hujan Ringan":l="hujan-ringan.png";break;case"Hujan Sedang":l="hujan-sedang.png";break;case"Hujan Lebat":l="hujan-lebat.png";break;case"Hujan Sangat Lebat":l="hujan-sangat-lebat.png"}return l}return $(document).ready((function(){s("/Home/GetAwlrLastReading").then((function(a){var n;console.log("Respon API:",a);var e=a;e&&200===(null===(n=e.metaData)||void 0===n?void 0:n.code)&&($.each(e.response,(function(a,n){var e=function(t){if(null!=t.reading_at){var a=moment(t.reading_at).format("YYYY-MM-DD HH:mm:ss"),n=moment().diff(a,"hours");Math.abs(n)}var e=t.water_level_elevation>0?"+":"";t.change_status;var l="";switch(t.warning_status){case null:l="bg-nostatus";break;case"Normal":l="bg-normal";break;case"Waspada":l="bg-siaga3";break;case"Siaga":l="bg-siaga2";break;case"Awas":l="bg-siaga1"}t.water_level;var s=null!=t.water_level?" ".concat(t.water_level.toFixed(2)," <small>").concat(t.unit_display,"</small></h6>"):"-";null!=t.water_level_elevation&&"".concat(e).concat(t.water_level_elevation," <sup>mdpl</sup>"),"cmdpl"!=t.unitSensor&&"mdpl"!=t.unitSensor||"".concat(t.water_level_elevation," <sup>mdpl</sup>"),null!=t.debit&&"".concat(t.debit," <small>m<sup>3</sup>/s</small>");var i;i=null!=t.siaga1&&null!=t.siaga2&&null!=t.siaga3?'\n            <div class="progress-meter mt-2 mb-2">\n                <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n                <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> '.concat(t.siaga3," ").concat(t.unit_display," - ").concat(t.siaga2," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #FFDA4F;">').concat(t.siaga3," ").concat(t.unit_display,'</span></div>\n                <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> ').concat(t.siaga2," ").concat(t.unit_display," - ").concat(t.siaga1," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #FFA600;">').concat(t.siaga2," ").concat(t.unit_display,'</span></div>\n                <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > ').concat(t.siaga1," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #EF5350;">').concat(t.siaga1," ").concat(t.unit_display,"</span></div>\n            </div>\n        "):'<div class="progress-meter mt-2 mb-2">\n            <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n            <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFDA4F;">0</span></div>\n            <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFA600;">0</span></div>\n            <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > 0"><span class="fw-normal meter-text" style="color: #EF5350;">0</span></div>\n        </div>',null!=t.battery&&(t.battery<7?'<span><i class="mdi mdi-battery-charging-low ms-1" style="color: #F69696;"></i> '.concat(t.battery," Volt</span>"):'<span><i class="mdi mdi-battery-charging-high ms-1" style="color: #F69696;"></i> '.concat(t.battery," Volt</span>"));var r="";if(null!=t.reading_at){var o=moment().format("YYYY-MMM-DD");r=moment(t.reading_at).locale("id").format("YYYY-MMM-DD")==o?'Hari Ini, <span class="text-muted">'.concat(moment(t.reading_at).format("HH:mm"),"</span>"):moment(t.reading_at).locale("id").format("D MMMM YYYY HH:mm")}return'\n        <div class="card-header">\n            <div class="d-flex align-items-center">\n                <h6 class="card-title text-uppercase text-station-name m-0">'.concat(t.name,'</h6>\n                <span class="reading-at ms-auto">').concat(r,"</span>\n            </div>\n        </div>"),'<div class="card-station-awlr">\n        <div class="card shadow-sm border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp" style="background: #f8f9fa;">\n            <div class="card-body p-3">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <div class="d-flex flex-column">\n                        <strong class="fs-8">'.concat(t.name,'</strong>\n                        <span class="text-muted small">').concat(t.device_id,'</span> </div>\n                    <div class="text-end">\n                        <span class="badge ').concat(l,' text-white py-2 px-3">').concat(s,'</span>\n                    </div>\n                </div>\n \n                <div class="d-flex align-items-center text-muted small mb-3">\n                    <i class="far fa-clock me-1"></i>\n                    <span>').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'</span>\n                </div>\n\n                <div class="warning-bar-container mt-2">\n                    ').concat(i,"\n                </div>\n            </div>\n        </div>\n    </div>")}(n);if($("#card-station-".concat(n.id)).length?$("#card-station-".concat(n.id)).html(e):$("#body-awlr #awlr-body").append('\n                        <div class="card-station-awlr" data-ts-id="'.concat(n.id,'" id="card-station-').concat(n.id,'" data-last-update="').concat(null==n.reading_at?"":moment(n.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(e,"\n                        </div>\n                    ")),null!=n.latitude&&null!=n.longitude){var l,s=new google.maps.Marker({position:{lat:parseFloat(n.latitude),lng:parseFloat(n.longitude)},map:t,title:n.name,icon:{url:"assets/img/awlr-marker.png",scaledSize:new google.maps.Size(35,50),anchor:new google.maps.Point(16,32)}});l=null!=n.siaga1&&null!=n.siaga2&&null!=n.siaga3?'\n                            <div class="progress-meter mt-2 mb-2">\n                                <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n                                <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> '.concat(n.siaga3," ").concat(n.unit_display," - ").concat(n.siaga2," ").concat(n.unit_display,'"><span class="fw-normal meter-text" style="color: #FFDA4F;">').concat(n.siaga3," ").concat(n.unit_display,'</span></div>\n                                <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> ').concat(n.siaga2," ").concat(n.unit_display," - ").concat(n.siaga1," ").concat(n.unit_display,'"><span class="fw-normal meter-text" style="color: #FFA600;">').concat(n.siaga2," ").concat(n.unit_display,'</span></div>\n                                <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > ').concat(n.siaga1," ").concat(n.unit_display,'"><span class="fw-normal meter-text" style="color: #EF5350;">').concat(n.siaga1," ").concat(n.unit_display,"</span></div>\n                            </div>\n                        "):'<div class="progress-meter mt-2 mb-2">\n                            <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n                            <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFDA4F;">0</span></div>\n                            <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFA600;">0</span></div>\n                            <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > 0"><span class="fw-normal meter-text" style="color: #EF5350;">0</span></div>\n                        </div>';var i='\n                        <div style="font-family: \'Arial\', sans-serif;\n                            max-width: 280px;\n                            font-size: 13px;\n                            padding: 0;\n                            margin: 0;\n                            line-height: 1.3;">\n                            <div style="font-size: 15px;\n                                font-weight: bold;\n                                margin: 0;\n                                padding: 0;\n                                line-height: 1;">\n                                '.concat(n.name||"Tanpa Nama",'\n                            </div><br>\n\n                            <table style="width: 100%; border-collapse: collapse; margin-bottom: 6px;">\n                                <tr>\n                                    <td style="color: #555;">Device</td>\n                                    <td style="text-align: right;">\n                                        <div style="display: flex; justify-content: flex-end; align-items: center; gap: 6px;">\n                                            <span>').concat(n.brand_name||"-",'</span>\n                                            <span style="\n                                                display: inline-block;\n                                                background-color: #ffc107;\n                                                color: #000;\n                                                font-size: 11px;\n                                                padding: 2px 6px;\n                                                border-radius: 6px;\n                                            ">\n                                                ').concat(n.device_id||"-",'\n                                            </span>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Koordinat</td>\n                                    <td style="text-align: right; padding-left: 8px;">\n                                        ').concat(parseFloat(n.latitude).toFixed(6),", ").concat(parseFloat(n.longitude).toFixed(6),'\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Status</td>\n                                    <td style="text-align: right;">\n                                        <span style="\n                                            display: inline-block;\n                                            padding: 2px 6px;\n                                            font-size: 12px;\n                                            border-radius: 6px;\n                                            background-color: ').concat("online"===n.status?"#28a745":"#6c757d",';\n                                            color: white;\n                                        ">\n                                            ').concat("online"===n.status?"Online":"No Data",'\n                                        </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Elevasi</td>\n                                    <td style="text-align: right; font-weight: bold; font-size: 14px;">\n                                        ').concat(parseFloat(n.water_level_elevation||0).toFixed(1)," ").concat(n.unit_display,"\n                                    </td>\n                                </tr>\n                            </table>\n\n                            ").concat(l,'<br>\n\n                            <div style="display: flex; align-items: center; font-size: 12px; color: #555;">\n                                <i class="far fa-clock" style="margin-right: 6px;"></i>\n                                ').concat(moment(n.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),"\n                            </div>\n                        </div>\n                        "),r=new google.maps.InfoWindow({content:i});s.addListener("click",(function(){r.open(t,s)})),google.maps.event.addListener(r,"domready",(function(){setTimeout((function(){var t=document.querySelector(".gm-style-iw");if(t){t.style.padding="0px",t.style.margin="0px";var a=t.parentElement;a&&(a.style.padding="0px",a.style.margin="0px");var n=null==a?void 0:a.parentElement;n&&(n.style.padding="0px",n.style.marginTop="0px")}var e=document.querySelector(".gm-style-iw-d");e&&(e.style.margin="0px",e.style.padding="0px")}),50)}))}})),setTimeout(i,100))})).catch((function(t){console.log(t)})),s("/Home/GetArrLastReading").then((function(a){var n;console.log("Respon API arr:",a);var e=a;e&&200===(null===(n=e.metaData)||void 0===n?void 0:n.code)&&$.each(e.response,(function(a,n){var e=function(t){var a=!1;if(null!=t.reading_at){var n=moment(t.reading_at).format("YYYY-MM-DD HH:mm:ss"),e=moment().diff(n,"hours");Math.abs(e)<12&&(a=!0)}var l="";null!=t.intensity_last_hour&&(l=t.intensity_last_hour);var s="";"Tidak Ada Hujan"!=t.intensity_last_hour&&a&&(s="blinking-content");var i=null!=t.rainfall_last_hour?" ".concat(t.rainfall_last_hour.toFixed(2)," <small>mm</small></h6>"):"-";null!=t.rainfall_last_hour&&null!=t.intensity_last_hour&&'\n            <div class="d-flex justify-content-around align-items-center reading-text mb-1">\n                <div class="col-4 text-center">\n                    <h4 class="text-range-hour">'.concat(moment(t.reading_at).locale("id").format("HH:mm"),'</h4>\n                </div>\n                <div class="col-4 text-center">\n                    <h4>').concat(t.rainfall_last_hour.toFixed(2),' <sup>mm</sup></h4>\n                </div>\n                <div class="col-4 col-intensity text-center">\n                    <img class="').concat(s,'" src="/images/arr/').concat(r(t.intensity_last_hour),'" alt="').concat(t.intensity_last_hour,'">\n                </div>\n            </div>\n            <div class="d-flex justify-content-around reading-text">\n                <div class="col-4 text-center">\n                    Waktu\n                </div>\n                <div class="col-4 text-center">\n                    Curah Hujan\n                </div>\n                <div class="col-4 text-center fst-italic">\n                    ').concat(l,"\n                </div>\n            </div>\n        "),null!=t.battery&&(t.battery<7?'<span><small class="mdi mdi-battery-charging-low ms-1" style="color: #F69696;"></small> '.concat(t.battery," Volt</span>"):'<span><small class="mdi mdi-battery-charging-high ms-1" style="color: #F69696;"></small> '.concat(t.battery," Volt</span>"));var o="";if(null!=t.reading_at){var c=moment().format("YYYY-MMM-DD");o=moment(t.reading_at).locale("id").format("YYYY-MMM-DD")==c?"Hari Ini":moment(t.reading_at).locale("id").locale("id").format("D MMMM YYYY")}return'\n        <div class="card-header">\n            <div class="d-flex align-items-center">\n                <h6 class="card-title text-uppercase text-station-name m-0">'.concat(t.name,'</h6>\n                <span class="reading-at ms-auto">').concat(o,"</span>\n            </div>\n        </div>"),'<div class="card-station-arr">\n        <div class="card shadow-sm border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp" style="background: #f8f9fa;">\n            <div class="card-body p-3">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <div class="d-flex flex-column">\n                        <strong class="fs-8">'.concat(t.name,'</strong>\n                        <span class="text-muted small">').concat(t.device_id,'</span> </div>\n                    <div class="text-end">\n                        <span class="badge bg-normal text-white py-2 px-3">').concat(i,'</span>\n                    </div>\n                </div>\n \n                <div class="d-flex align-items-center text-muted small mb-3">\n                    <i class="far fa-clock me-1"></i>\n                    <span>').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),"</span>\n                </div>\n            </div>\n        </div>\n    </div>")}(n);if($("#card-station-".concat(n.id)).length?$("#card-station-".concat(n.id)).html(e):$("#arr-body").append('\n                        <div class="card-station-arr" data-ts-id="'.concat(n.id,'" id="card-station-').concat(n.id,'" data-last-update="').concat(null==n.reading_at?"":moment(n.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(e,"\n                        </div>\n                    ")),null!=n.latitude&&null!=n.longitude){var l=new google.maps.Marker({position:{lat:parseFloat(n.latitude),lng:parseFloat(n.longitude)},map:t,title:n.name,icon:{url:"assets/img/arr-marker.png",scaledSize:new google.maps.Size(45,50),anchor:new google.maps.Point(16,32)}}),s='\n                        <div style="font-family: \'Arial\', sans-serif;\n                            max-width: 280px;\n                            font-size: 13px;\n                            padding: 0;\n                            margin: 0;\n                            line-height: 1.3;">\n                            <div style="font-size: 15px;\n                                font-weight: bold;\n                                margin: 0;\n                                padding: 0;\n                                line-height: 1;">\n                                '.concat(n.name||"Tanpa Nama",'\n                            </div><br>\n\n                            <table style="width: 100%; border-collapse: collapse; margin-bottom: 6px;">\n                                <tr>\n                                    <td style="color: #555;">Device</td>\n                                    <td style="text-align: right;">\n                                        <div style="display: flex; justify-content: flex-end; align-items: center; gap: 6px;">\n                                            <span>').concat(n.brand_name||"-",'</span>\n                                            <span style="\n                                                display: inline-block;\n                                                background-color: #ffc107;\n                                                color: #000;\n                                                font-size: 11px;\n                                                padding: 2px 6px;\n                                                border-radius: 6px;\n                                            ">\n                                                ').concat(n.device_id||"-",'\n                                            </span>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Koordinat</td>\n                                    <td style="text-align: right; padding-left: 8px;">\n                                        ').concat(parseFloat(n.latitude).toFixed(6),", ").concat(parseFloat(n.longitude).toFixed(6),'\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Status</td>\n                                    <td style="text-align: right;">\n                                        <span style="\n                                            display: inline-block;\n                                            padding: 2px 6px;\n                                            font-size: 12px;\n                                            border-radius: 6px;\n                                            background-color: ').concat("online"===n.status?"#28a745":"#6c757d",';\n                                            color: white;\n                                        ">\n                                            ').concat("online"===n.status?"Online":"No Data",'\n                                        </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style="color: #555;">Curah Hujan</td>\n                                    <td style="text-align: right; font-weight: bold; font-size: 14px;">\n                                        ').concat(parseFloat(n.rainfall||0).toFixed(1),' mm\n                                    </td>\n                                </tr>\n                            </table>\n\n                            <div style="display: flex; align-items: center; font-size: 12px; color: #555;">\n                                <i class="far fa-clock" style="margin-right: 6px;"></i>\n                                ').concat(moment(n.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),"\n                            </div>\n                        </div>"),i=new google.maps.InfoWindow({content:s});l.addListener("click",(function(){i.open(t,l)})),google.maps.event.addListener(i,"domready",(function(){setTimeout((function(){var t=document.querySelector(".gm-style-iw");if(t){t.style.padding="0px",t.style.margin="0px";var a=t.parentElement;a&&(a.style.padding="0px",a.style.margin="0px");var n=null==a?void 0:a.parentElement;n&&(n.style.padding="0px",n.style.marginTop="0px")}var e=document.querySelector(".gm-style-iw-d");e&&(e.style.margin="0px",e.style.padding="0px")}),50)}))}}))})).catch((function(t){console.log(t)})),s("/Home/GetAwlrArrLastReading").then((function(t){var a;console.log("Respon API arr:",t);var n=t;n&&200===(null===(a=n.metaData)||void 0===a?void 0:a.code)&&$.each(n.response,(function(t,a){var n=function(t){var a=!1;if(null!=t.reading_at){var n=moment(t.reading_at).format("YYYY-MM-DD HH:mm:ss"),e=moment().diff(n,"hours");Math.abs(e)<12&&(a=!0)}var l=t.water_level_elevation>0?"+":"";t.change_status;var s="";switch(t.warning_status){case null:s="bg-nostatus";break;case"Normal":s="bg-normal";break;case"Waspada":s="bg-siaga3";break;case"Siaga":s="bg-siaga2";break;case"Awas":s="bg-siaga1"}t.water_level;var i=null!=t.water_level?" ".concat(t.water_level.toFixed(2)," <small>").concat(t.unit_display,"</small></h6>"):"-";null!=t.water_level_elevation&&"".concat(l).concat(t.water_level_elevation," <sup>mdpl</sup>"),"cmdpl"!=t.unitSensor&&"mdpl"!=t.unitSensor||"".concat(t.water_level_elevation," <sup>mdpl</sup>"),null!=t.debit&&"".concat(t.debit," <small>m<sup>3</sup>/s</small>");var o,c=null!=t.rainfall_last_hour?" ".concat(t.rainfall_last_hour.toFixed(2)," <small>mm</small></h6>"):"-";o=null!=t.siaga1&&null!=t.siaga2&&null!=t.siaga3?'\n            <div class="progress-meter mt-2 mb-2">\n                <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n                <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> '.concat(t.siaga3," ").concat(t.unit_display," - ").concat(t.siaga2," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #FFDA4F;">').concat(t.siaga3," ").concat(t.unit_display,'</span></div>\n                <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> ').concat(t.siaga2," ").concat(t.unit_display," - ").concat(t.siaga1," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #FFA600;">').concat(t.siaga2," ").concat(t.unit_display,'</span></div>\n                <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > ').concat(t.siaga1," ").concat(t.unit_display,'"><span class="fw-normal meter-text" style="color: #EF5350;">').concat(t.siaga1," ").concat(t.unit_display,"</span></div>\n            </div>\n        "):'<div class="progress-meter mt-2 mb-2">\n            <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n            <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFDA4F;">0</span></div>\n            <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFA600;">0</span></div>\n            <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > 0"><span class="fw-normal meter-text" style="color: #EF5350;">0</span></div>\n        </div>';var d="-";null!=t.battery&&(d="<h4>".concat(t.battery," <small>Volt</small><h4>"));var m="";if(null!=t.reading_at){var p=moment().format("YYYY-MMM-DD");m=moment(t.reading_at).locale("id").format("YYYY-MMM-DD")==p?'Hari Ini, <span class="text-muted">'.concat(moment(t.reading_at).format("HH:mm"),"</span>"):moment(t.reading_at).locale("id").format("D MMMM YYYY HH:mm")}'\n        <div class="d-flex justify-content-around align-items-center reading-text">\n            <div class="col-4 text-center">\n                -\n            </div>\n            <div class="col-4 text-center">\n                -\n            </div>\n            <div class="col-4 text-center">\n                '.concat(d,'\n            </div>\n        </div>\n        <div class="d-flex justify-content-around reading-text">\n            <div class="col-4 text-center">\n                Curah Hujan\n            </div>\n            <div class="col-4 text-center">\n                Intensitas\n            </div>\n            <div class="col-4 text-center">\n                Battery\n            </div>\n        </div>\n    ');var u="";null!=t.intensity_last_hour&&(u=t.intensity_last_hour);var v="";return"Tidak Ada Hujan"!=t.intensity_last_hour&&a&&(v="blinking-content"),null!=t.rainfall_last_hour&&null!=t.intensity_last_hour&&'\n            <div class="d-flex justify-content-around align-items-center reading-text mb-1">\n                <div class="col-4 text-center">\n                    '.concat(d,'\n                </div>\n                <div class="col-4 text-center">\n                    <h4>').concat(t.rainfall_last_hour.toFixed(2),' <small>mm</small></h4>\n                </div>\n                <div class="col-4 col-intensity text-center">\n                    <img class="').concat(v,'" src="/images/arr/').concat(r(t.intensity_last_hour),'" alt="').concat(t.intensity_last_hour,'">\n                </div>\n            </div>\n            <div class="d-flex justify-content-around reading-text">\n                <div class="col-4 text-center text-uppercase">\n                    Battery\n                </div>\n                <div class="col-4 text-center text-uppercase">\n                    Curah Hujan\n                </div>\n                <div class="col-4 text-center fst-italic">\n                    ').concat(u,"\n                </div>\n            </div>\n        "),'\n        <div class="card-header">\n            <div class="d-flex align-items-center">\n                <h4 class="card-title text-uppercase text-station-name m-0">'.concat(t.name,'</h4>\n                <span class="reading-at ms-auto">').concat(m,"</span>\n            </div>\n        </div>\n    "),'<div class="card-station-awlr">\n        <div class="card shadow-sm border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp" style="background: #f8f9fa;">\n            <div class="card-body p-3">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <div class="d-flex flex-column">\n                        <strong class="fs-8">'.concat(t.name,'</strong>\n                        <span class="text-muted small">').concat(t.device_id,'</span> </div>\n                    <div class="text-end d-flex flex-column align-items-end">\n                        <span class="badge ').concat(s,' text-white py-2 px-3" style="margin-bottom: 0.5rem;">').concat(i,'</span>\n                        <span class="badge bg-normal text-white py-2 px-3">').concat(c,'</span>\n                    </div>\n                </div>\n \n                <div class="d-flex align-items-center text-muted small mb-3">\n                    <i class="far fa-clock me-1"></i>\n                    <span>').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'</span>\n                </div>\n\n                <div class="warning-bar-container mt-2">\n                    ').concat(o,"\n                </div>\n            </div>\n        </div>\n    </div>")}(a);$("#card-station-".concat(a.id)).length?$("#card-station-".concat(a.id)).html(n):$("#awlr-arr-body").append('\n                        <div class="card-station-awlr" data-ts-id="'.concat(a.id,'" id="card-station-').concat(a.id,'" data-last-update="').concat(null==a.reading_at?"":moment(a.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(n,"\n                        </div>\n                    ")),null!=a.latitude&&a.longitude}))})).catch((function(t){console.log(t)})),s("/Home/GetSensorOffline").then((function(t){var a,n=t;n&&200===(null===(a=n.metaData)||void 0===a?void 0:a.code)&&$.each(n.response,(function(t,a){var n=function(t){return'\n        <div class="card shadow-sm border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp" style="background: #f8f9fa;">\n            <div class="card-body p-3">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <div class="d-flex flex-column">\n                        <strong class="fs-8">'.concat(t.name,'</strong>\n                        <span class="text-muted small">').concat(t.device_id,'</span> \n                    </div>\n                </div>\n                <div class="d-flex align-items-center text-muted small mb-3">\n                    <i class="far fa-clock me-1"></i>\n                    <span>').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),"</span>\n                </div>\n            </div>\n        </div>\n    ")}(a);$("#card-offline-".concat(a.id)).length?$("#card-offline-".concat(a.id)).html(n):$("#sensorList").append('\n                        <div class="card-offline-device" data-ts-id="'.concat(a.id,'" id="card-offline-').concat(a.id,'" data-last-update="').concat(null==a.reading_at?"":moment(a.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(n,"\n                        </div>\n                    "))}))})).catch((function(t){console.log(t)})),function(){l.apply(this,arguments)}()})),{}})()));