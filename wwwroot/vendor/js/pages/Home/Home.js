!function(a,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var e in n)("object"==typeof exports?exports:a)[e]=n[e]}}(self,(()=>(()=>{function a(a){return fetch(a).then((function(a){if(!a.ok)throw new Error("Network response was not ok");return a.json()}))}function t(){var a=document.querySelectorAll(".footer"),t=document.querySelectorAll(".tab-pane");a.forEach((function(a,n){var e=t[n];if(a&&e){var s=a.offsetHeight;e.style.paddingBottom="".concat(s,"px")}}))}return $(document).ready((function(){a("/Home/GetAwlrLastReading").then((function(a){var n;console.log("Respon API:",a);var e=a;e&&200===(null===(n=e.metaData)||void 0===n?void 0:n.code)&&($.each(e.response,(function(a,t){var n=function(a){if(null!=a.reading_at){var t=moment(a.reading_at).format("YYYY-MM-DD HH:mm:ss"),n=moment().diff(t,"hours");Math.abs(n)}var e=a.water_level_elevation>0?"+":"";a.change_status;var s="";switch(a.warning_status){case null:s="bg-nostatus";break;case"Normal":s="bg-normal";break;case"Waspada":s="bg-siaga3";break;case"Siaga":s="bg-siaga2";break;case"Awas":s="bg-siaga1"}a.water_level;var i=null!=a.water_level?" ".concat(a.water_level.toFixed(2)," <small>").concat(a.unit_display,"</small></h6>"):"-";null!=a.water_level_elevation&&"".concat(e).concat(a.water_level_elevation," <sup>mdpl</sup>"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor||"".concat(a.water_level_elevation," <sup>mdpl</sup>"),null!=a.debit&&"".concat(a.debit," <small>m<sup>3</sup>/s</small>");var l;l=null!=a.siaga1&&null!=a.siaga2&&null!=a.siaga3?'\n            <div class="progress-meter mt-2 mb-2">\n                <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n                <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> '.concat(a.siaga3," ").concat(a.unit_display," - ").concat(a.siaga2," ").concat(a.unit_display,'"><span class="fw-normal meter-text" style="color: #FFDA4F;">').concat(a.siaga3," ").concat(a.unit_display,'</span></div>\n                <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> ').concat(a.siaga2," ").concat(a.unit_display," - ").concat(a.siaga1," ").concat(a.unit_display,'"><span class="fw-normal meter-text" style="color: #FFA600;">').concat(a.siaga2," ").concat(a.unit_display,'</span></div>\n                <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > ').concat(a.siaga1," ").concat(a.unit_display,'"><span class="fw-normal meter-text" style="color: #EF5350;">').concat(a.siaga1," ").concat(a.unit_display,"</span></div>\n            </div>\n        "):'<div class="progress-meter mt-2 mb-2">\n            <div class="meter meter-normal meter-left" style="width: 25%;" title="Normal <br> < 6 m"><span class="fw-normal meter-text" style="color: #4DC27E;">0</span></div>\n            <div class="meter meter-waspada meter-left" style="width: 25%;" title="Siaga 3 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFDA4F;">0</span></div>\n            <div class="meter meter-siaga meter-left" style="width: 25%;" title="Siaga 2 <br> 0 - 0"><span class="fw-normal meter-text" style="color: #FFA600;">0</span></div>\n            <div class="meter meter-awas meter-left" style="width: 25%;" title="Siaga 1 <br> > 0"><span class="fw-normal meter-text" style="color: #EF5350;">0</span></div>\n        </div>',null!=a.battery&&(a.battery<7?'<span><i class="mdi mdi-battery-charging-low ms-1" style="color: #F69696;"></i> '.concat(a.battery," Volt</span>"):'<span><i class="mdi mdi-battery-charging-high ms-1" style="color: #F69696;"></i> '.concat(a.battery," Volt</span>"));var c="";if(null!=a.reading_at){var o=moment().format("YYYY-MMM-DD");c=moment(a.reading_at).locale("id").format("YYYY-MMM-DD")==o?'Hari Ini, <span class="text-muted">'.concat(moment(a.reading_at).format("HH:mm"),"</span>"):moment(a.reading_at).locale("id").format("D MMMM YYYY HH:mm")}return'\n        <div class="card-header">\n            <div class="d-flex align-items-center">\n                <h6 class="card-title text-uppercase text-station-name m-0">'.concat(a.name,'</h6>\n                <span class="reading-at ms-auto">').concat(c,"</span>\n            </div>\n        </div>"),'<div class="card-station-awlr">\n        <div class="card shadow-sm border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp" style="background: #f8f9fa;">\n            <div class="card-body p-3">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <div class="d-flex flex-column">\n                        <strong class="fs-8">'.concat(a.name,'</strong>\n                        <span class="text-muted small">').concat(a.device_id,'</span> </div>\n                    <div class="text-end">\n                        <span class="badge ').concat(s,' text-white py-2 px-3">').concat(i,'</span>\n                    </div>\n                </div>\n \n                <div class="d-flex align-items-center text-muted small mb-3">\n                    <i class="far fa-clock me-1"></i>\n                    <span>').concat(null==a.reading_at?"":moment(a.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'</span>\n                </div>\n\n                <div class="warning-bar-container mt-2">\n                    ').concat(l,"\n                </div>\n            </div>\n        </div>\n    </div>")}(t);$("#card-station-".concat(t.id)).length?$("#card-station-".concat(t.id)).html(n):$("#body-awlr #awlr-body").append('\n                        <div class="card-station-awlr" data-ts-id="'.concat(t.id,'" id="card-station-').concat(t.id,'" data-last-update="').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(n,"\n                        </div>\n                    ")),null!=t.latitude&&t.longitude})),setTimeout(t,100))})).catch((function(a){console.log(a)})),a("/Home/GetArrLastReading").then((function(a){var t,n=a;n&&200===(null===(t=n.metaData)||void 0===t?void 0:t.Code)&&$.each(n.response,(function(a,t){var n=function(a){var t=!1,n='<small class="mdi mdi-circle text-danger"></small> Offline';if(null!=a.reading_at){var e=moment(a.reading_at).format("YYYY-MM-DD HH:mm:ss"),s=moment().diff(e,"hours");Math.abs(s)<12&&(t=!0,n='<small class="mdi mdi-circle text-success"></small> Online')}var i='\n        <div class="d-flex justify-content-around align-items-center reading-text mb-1">\n            <div class="col-4 text-center">\n                -\n            </div>\n            <div class="col-4 text-center">\n                -\n            </div>\n            <div class="col-4 text-center">\n                -\n            </div>\n        </div>\n        <div class="d-flex justify-content-around reading-text">\n            <div class="col-4 text-center">\n                Waktu\n            </div>\n            <div class="col-4 text-center">\n                Curah Hujan\n            </div>\n            <div class="col-4 text-center fst-italic">\n                Intensitas\n            </div>\n        </div>\n    ',l="";null!=a.intensity_last_hour&&(l=a.intensity_last_hour);var c="";"Tidak Ada Hujan"!=a.intensity_last_hour&&t&&(c="blinking-content"),null!=a.rainfall_last_hour&&null!=a.intensity_last_hour&&(i='\n            <div class="d-flex justify-content-around align-items-center reading-text mb-1">\n                <div class="col-4 text-center">\n                    <h4 class="text-range-hour">'.concat(moment(a.reading_at).locale("id").format("HH:mm"),'</h4>\n                </div>\n                <div class="col-4 text-center">\n                    <h4>').concat(a.rainfall_last_hour.toFixed(2),' <sup>mm</sup></h4>\n                </div>\n                <div class="col-4 col-intensity text-center">\n                    <img class="').concat(c,'" src="/images/arr/').concat(getIntensityIcon(a.intensity_last_hour),'" alt="').concat(a.intensity_last_hour,'">\n                </div>\n            </div>\n            <div class="d-flex justify-content-around reading-text">\n                <div class="col-4 text-center">\n                    Waktu\n                </div>\n                <div class="col-4 text-center">\n                    Curah Hujan\n                </div>\n                <div class="col-4 text-center fst-italic">\n                    ').concat(l,"\n                </div>\n            </div>\n        "));var o="";null!=a.battery&&(o=a.battery<7?'<span><small class="mdi mdi-battery-charging-low ms-1" style="color: #F69696;"></small> '.concat(a.battery," Volt</span>"):'<span><small class="mdi mdi-battery-charging-high ms-1" style="color: #F69696;"></small> '.concat(a.battery," Volt</span>"));var r="";if(null!=a.reading_at){var d=moment().format("YYYY-MMM-DD");r=moment(a.reading_at).locale("id").format("YYYY-MMM-DD")==d?"Hari Ini":moment(a.reading_at).locale("id").locale("id").format("D MMMM YYYY")}var m='\n        <div class="card-header">\n            <div class="d-flex align-items-center">\n                <h4 class="card-title text-uppercase text-station-name m-0">'.concat(a.name,'</h4>\n                <span class="reading-at ms-auto">').concat(r,"</span>\n            </div>\n        </div>");return'\n        <div class="card-station-arr" data-ts-id="'.concat(a.id,'" id="card-station-arr-').concat(a.id,'" data-last-update="').concat(null==a.reading_at?"":moment(a.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n            <div class="card card-station animate__animated animate__fadeInLeft">\n                ').concat(null!=m?m:"",'\n                <div class="card-body">\n                    <div class="reading-device d-flex align-items-center justify-content-between mb-2">\n                        <div>\n                            ').concat(a.brand_name,'\n                            <span class="badge badge-outline-secondary rounded-1 ms-1" style="color: #A9ABB8;border-color: #A9ABB8;">').concat(a.device_id,"</span>\n                            ").concat(o,"\n                        </div>\n                        <div>").concat(n,"</div>\n                    </div>\n                    ").concat(i,"\n                </div>\n            </div>\n        </div>")}(t);$("#card-station-".concat(t.id)).length?$("#card-station-".concat(t.id)).html(n):$("#body-arr #arr-body").append('\n                        <div class="card-station-arr" data-ts-id="'.concat(t.id,'" id="card-station-').concat(t.id,'" data-last-update="').concat(null==t.reading_at?"":moment(t.reading_at).locale("id").format("YYYY-MM-DD HH:mm:ss"),'">\n                            ').concat(n,"\n                        </div>\n                    ")),null!=t.latitude&&t.longitude}))})).catch((function(a){console.log(a)}))})),{}})()));